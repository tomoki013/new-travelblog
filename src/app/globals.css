@import "tailwindcss";
@import "tw-animate-css";

@plugin "@tailwindcss/typography";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

:root {
  --radius: 0.625rem;

  /* 基準色 (OKLCH形式に統一) */
  --background: oklch(0.985 0.011 89.53); /* #fdfaf6 */
  --foreground: oklch(0.354 0 0); /* #4a4a4a */
  --secondary: oklch(0.736 0.078 35.84); /* #d4a393 */

  /* 基準色に合わせて調整した色 */
  --card: var(--background); /* 純粋な白 */
  --card-foreground: var(--foreground);
  --popover: var(--background); /* 純粋な白 */
  --popover-foreground: var(--foreground);

  --primary: oklch(0.4 0.09 35.84); /* secondaryを濃くした色 */
  --primary-foreground: oklch(0.985 0 0); /* 明るい背景色に近づけた白 */

  --secondary-foreground: oklch(
    0.25 0.05 35.84
  ); /* secondaryの上でも読める濃い茶色 */

  --muted: oklch(0.96 0.015 89.53); /* backgroundより少し濃い色 */
  --muted-foreground: oklch(0.55 0.03 89.53); /* mutedの上でも読める中間色 */

  --accent: oklch(0.96 0.015 89.53); /* mutedと同じ */
  --accent-foreground: var(--primary);

  --destructive: oklch(0.65 0.23 25); /* 彩度と色相を調整した赤系 */
  --destructive-foreground: oklch(0.985 0 0);

  --border: oklch(0.93 0.02 89.53);
  --input: oklch(0.93 0.02 89.53);
  --ring: oklch(0.736 0.078 35.84); /* secondaryと同じ */

  /* チャートカラー (全体的に温かみのある色合いに調整) */
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.68 0.12 150);
  --chart-3: oklch(0.55 0.15 250);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);

  /* サイドバー */
  --sidebar: oklch(0.99 0.005 89.53); /* backgroundより少し明るい */
  --sidebar-foreground: var(--foreground);
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);
  --sidebar-accent: oklch(0.95 0.018 89.53);
  --sidebar-accent-foreground: var(--primary);
  --sidebar-border: var(--border);
  --sidebar-ring: var(--ring);
}

.dark {
  /* 基準色 (ダークモード) */
  --background: oklch(0.18 0.02 89.53); /* 暗く温かみのある背景 */
  --foreground: oklch(0.98 0.01 89.53); /* 明るく温かみのある白 */
  --secondary: oklch(0.736 0.078 35.84); /* 彩度を抑えた茶色 */

  /* 基準色に合わせて調整した色 (ダークモード) */
  --card: oklch(0.22 0.025 89.53); /* 背景より少し明るい */
  --card-foreground: var(--foreground);
  --popover: oklch(0.22 0.025 89.53);
  --popover-foreground: var(--foreground);

  --primary: oklch(
    0.736 0.078 35.84
  ); /* 明るく目立つプライマリ色 (ライト版のsecondary) */
  --primary-foreground: oklch(
    0.25 0.05 35.84
  ); /* primaryの上でも読める濃い茶色 */

  --secondary-foreground: oklch(0.98 0.01 89.53);

  --muted: oklch(0.25 0.025 89.53);
  --muted-foreground: oklch(0.7 0.02 89.53); /* 少し落ち着いた文字色 */

  --accent: oklch(0.25 0.025 89.53);
  --accent-foreground: var(--primary);

  --destructive: oklch(0.7 0.25 25); /* 視認性の高い赤系 */
  --destructive-foreground: oklch(0.15 0.05 25);

  --border: oklch(0.3 0.03 89.53);
  --input: oklch(0.3 0.03 89.53);
  --ring: oklch(0.736 0.078 35.84);

  /* チャートカラー (ダークモード用に輝度を調整) */
  --chart-1: oklch(0.7 0.22 41.116);
  --chart-2: oklch(0.72 0.12 150);
  --chart-3: oklch(0.65 0.15 250);
  --chart-4: oklch(0.85 0.18 84.429);
  --chart-5: oklch(0.8 0.18 70.08);

  /* サイドバー (ダークモード) */
  --sidebar: oklch(0.15 0.01 89.53); /* 背景よりさらに暗い */
  --sidebar-foreground: var(--foreground);
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);
  --sidebar-accent: oklch(0.28 0.03 89.53);
  --sidebar-accent-foreground: var(--primary);
  --sidebar-border: var(--border);
  --sidebar-ring: var(--ring);
}

.font-heading {
  font-family: var(--font-playfair-display), serif;
}
.font-code {
  font-family: var(--font-caveat), cursive;
}

* {
  box-sizing: border-box;
  word-break: auto-phrase;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-montserrat), sans-serif;
  background-color: var(--background);
}

article {
  font-family: var(--font-noto-sans-jp), sans-serif;
}

/* app/globals.css */

/* --- 既存アニメーション (1-9) --- */
.loader-map-route .map-path {
  stroke: #e0e0e0;
  stroke-width: 0.5;
  fill: none;
}
.loader-map-route .route-line {
  fill: none;
  stroke: #14b8a6;
  stroke-width: 1;
  stroke-dasharray: 4 4;
  animation: draw-route 4s linear infinite;
}
.loader-map-route .plane {
  fill: #14b8a6;
  offset-path: path("M10,50 Q60,10 110,50 T210,50");
  animation: move-plane 4s linear infinite;
}
@keyframes draw-route {
  from {
    stroke-dashoffset: 250;
  }
  to {
    stroke-dashoffset: 0;
  }
}

/* src/app/globals.css に追加 */
.tooltip {
  position: absolute;
  text-align: center;
  width: 150px;
  padding: 8px;
  font: 12px sans-serif;
  background: lightsteelblue;
  border: 0px;
  border-radius: 8px;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s;
}

.tooltip-image {
  width: 100%;
  height: auto;
  border-radius: 4px;
}
@keyframes move-plane {
  from {
    motion-offset: 0%;
  }
  to {
    motion-offset: 100%;
  }
}

.loader-journal {
  width: 100px;
  height: 70px;
  perspective: 1000px;
}
.loader-journal .book {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transform: rotateX(20deg) rotateY(-20deg);
}
.loader-journal .page {
  width: 50%;
  height: 100%;
  position: absolute;
  top: 0;
  right: 0;
  background-color: #f3f4f6;
  border: 1px solid #d1d5db;
  transform-origin: left center;
  animation: flip-page 2s infinite ease-in-out;
}
.loader-journal .page:nth-child(1) {
  animation-delay: 0s;
}
.loader-journal .page:nth-child(2) {
  animation-delay: 0.2s;
}
.loader-journal .page:nth-child(3) {
  animation-delay: 0.4s;
}
@keyframes flip-page {
  0%,
  20% {
    transform: rotateY(0deg);
  }
  80%,
  100% {
    transform: rotateY(-180deg);
  }
}

.loader-compass {
  width: 80px;
  height: 80px;
  border: 4px solid #4b5563;
  border-radius: 50%;
  position: relative;
  animation: rotate-rose 10s linear infinite reverse;
}
.loader-compass .rose {
  width: 100%;
  height: 100%;
  border: 1px solid #9ca3af;
  border-radius: 50%;
}
.loader-compass .marker {
  position: absolute;
  color: #4b5563;
  font-weight: bold;
  font-size: 14px;
}
.loader-compass .marker.n {
  top: -2px;
  left: 50%;
  transform: translateX(-50%);
}
.loader-compass .marker.s {
  bottom: -2px;
  left: 50%;
  transform: translateX(-50%);
}
.loader-compass .marker.w {
  top: 50%;
  left: -2px;
  transform: translateY(-50%);
}
.loader-compass .marker.e {
  top: 50%;
  right: -2px;
  transform: translateY(-50%);
}
.loader-compass .needle {
  width: 4px;
  height: 35px;
  background-color: #f87171;
  border-radius: 2px;
  position: absolute;
  top: 5px;
  left: 50%;
  transform-origin: bottom center;
  transform: translateX(-50%);
  animation: rotate-needle 1.5s ease-in-out infinite alternate;
}
@keyframes rotate-needle {
  from {
    transform: translateX(-50%) rotate(-45deg);
  }
  to {
    transform: translateX(-50%) rotate(225deg);
  }
}
@keyframes rotate-rose {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.loader-aperture {
  width: 80px;
  height: 80px;
  position: relative;
  transform: rotate(180deg);
}
.loader-aperture .blade {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 80px;
  height: 40px;
  background-color: #374151;
  transform-origin: bottom left;
  animation: aperture-blade 2s infinite ease-in-out;
  clip-path: polygon(100% 0, 0 0, 50% 100%);
}
.loader-aperture .blade:nth-child(1) {
  transform: rotate(0deg);
}
.loader-aperture .blade:nth-child(2) {
  transform: rotate(60deg);
}
.loader-aperture .blade:nth-child(3) {
  transform: rotate(120deg);
}
.loader-aperture .blade:nth-child(4) {
  transform: rotate(180deg);
}
.loader-aperture .blade:nth-child(5) {
  transform: rotate(240deg);
}
.loader-aperture .blade:nth-child(6) {
  transform: rotate(300deg);
}
@keyframes aperture-blade {
  0%,
  100% {
    transform: rotate(0deg) scale(1);
  }
  50% {
    transform: rotate(15deg) scale(0.6);
  }
}

.loader-passport-stamp {
  width: 90px;
  height: 90px;
  position: relative;
}
.loader-passport-stamp .stamp {
  width: 100%;
  height: 100%;
  border: 4px solid #0d9488;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #0d9488;
  font-size: 40px;
  animation: stamp-press 2.5s infinite cubic-bezier(0.68, -0.55, 0.27, 1.55);
}
@keyframes stamp-press {
  0% {
    transform: scale(1.5) translateY(-50px);
    opacity: 0;
  }
  25% {
    transform: scale(1) translateY(0);
    opacity: 1;
  }
  40% {
    transform: scale(0.95);
  }
  50% {
    transform: scale(1);
  }
  80% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

.loader-airplane-window {
  width: 120px;
  height: 150px;
  background: #bfdbfe;
  border: 10px solid #f9fafb;
  border-radius: 40% 40% 25% 25%;
  position: relative;
  overflow: hidden;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2) inset;
}
.loader-airplane-window .clouds {
  position: absolute;
  top: 0;
  left: 0;
  width: 200%;
  height: 100%;
  background-image:
    radial-gradient(circle at 10% 30%, white 5%, transparent 20%),
    radial-gradient(circle at 50% 80%, white 10%, transparent 40%),
    radial-gradient(circle at 80% 20%, white 8%, transparent 30%),
    radial-gradient(circle at 30% 60%, white 12%, transparent 50%);
  animation: move-clouds 8s linear infinite;
}
@keyframes move-clouds {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-50%);
  }
}

.loader-carousel {
  width: 150px;
  height: 150px;
  position: relative;
}
.loader-carousel .track {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100px;
  height: 100px;
  border: 4px solid #9ca3af;
  border-radius: 50%;
  transform: translate(-50%, -50%) rotateX(60deg);
}
.loader-carousel .luggage {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 20px;
  height: 15px;
  border-radius: 4px;
  transform-origin: -40px 0;
  animation: move-luggage 4s linear infinite;
}
.loader-carousel .luggage.l1 {
  background-color: #3b82f6;
  animation-delay: 0s;
}
.loader-carousel .luggage.l2 {
  background-color: #ef4444;
  animation-delay: -1.3s;
}
.loader-carousel .luggage.l3 {
  background-color: #f59e0b;
  animation-delay: -2.6s;
}
@keyframes move-luggage {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.loader-split-flap {
  display: flex;
  gap: 4px;
}
.char-container {
  width: 20px;
  height: 30px;
  perspective: 300px;
  position: relative;
  font-family: monospace;
  font-size: 24px;
  font-weight: bold;
  color: var(--foreground);
}
.flap {
  position: absolute;
  width: 100%;
  height: 50%;
  left: 0;
  overflow: hidden;
  backface-visibility: hidden;
  line-height: 30px;
}
.flap.top {
  top: 0;
  border-radius: 3px 3px 0 0;
}
.flap.bottom {
  top: 50%;
  border-radius: 0 0 3px 3px;
  line-height: 0;
}
.flap.flipping {
  animation: flip-down 0.4s ease-in-out;
}
@keyframes flip-down {
  from {
    transform: rotateX(0deg);
  }
  to {
    transform: rotateX(-90deg);
  }
}

.loader-lantern {
  width: 150px;
  height: 150px;
  position: relative;
  overflow: hidden;
}
.loader-lantern .lantern {
  position: absolute;
  bottom: -40px;
  width: 20px;
  height: 30px;
  background: radial-gradient(circle, #fcd34d, #f59e0b);
  border-radius: 40% 40% 20% 20%;
  box-shadow: 0 0 15px #f59e0b;
  animation: float-up 8s infinite ease-in-out;
}
@keyframes float-up {
  0% {
    transform: translateY(0) translateX(0);
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  80% {
    opacity: 1;
  }
  100% {
    transform: translateY(-180px) translateX(20px);
    opacity: 0;
  }
}

/* --- 新規アニメーション (10-18) --- */
.loader-backpack {
  width: 80px;
  height: 90px;
  background: #60a5fa; /* blue-400 */
  border-radius: 20% 20% 10% 10%;
  position: relative;
}
.loader-backpack .flap {
  width: 50%;
  height: 20px;
  background: #3b82f6; /* blue-500 */
  position: absolute;
  top: 0;
  left: 25%;
  border-radius: 10px 10px 0 0;
  transform-origin: top center;
  animation: flap-open 2s infinite ease-in-out;
}
.loader-backpack .item {
  position: absolute;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  border-radius: 3px;
  animation: item-pop 2s infinite ease-in-out;
}
.loader-backpack .item.passport {
  width: 20px;
  height: 25px;
  background: #1e40af;
  animation-delay: 0s;
} /* blue-800 */
.loader-backpack .item.camera {
  width: 25px;
  height: 20px;
  background: #4b5563;
  animation-delay: 0.2s;
} /* gray-600 */
@keyframes flap-open {
  0%,
  100% {
    transform: rotateX(0deg);
  }
  50% {
    transform: rotateX(-60deg);
  }
}
@keyframes item-pop {
  0%,
  40%,
  100% {
    transform: translate(-50%, 20px);
    opacity: 0;
  }
  60%,
  90% {
    transform: translate(-50%, -10px);
    opacity: 1;
  }
}

.loader-boarding-pass {
  width: 150px;
  height: 70px;
  background: #fefce8; /* yellow-50 */
  border-radius: 8px;
  position: relative;
  border: 1px solid #e2e8f0;
}
.loader-boarding-pass .stub {
  position: absolute;
  top: 0;
  left: 0;
  width: 40px;
  height: 100%;
  background: #fefce8;
  border-right: 2px dashed #cbd5e1;
  animation: tear-off 2s infinite ease-in-out;
}
@keyframes tear-off {
  0%,
  100% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(-15px) rotate(-5deg);
  }
}

.loader-postcard {
  width: 120px;
  height: 80px;
  background: #fdf2f8; /* pink-50 */
  border: 1px solid #e5e7eb;
  position: relative;
}
.loader-postcard .writing-path {
  stroke: #4b5563;
  stroke-width: 2;
  fill: none;
  stroke-dasharray: 100;
  animation: write-signature 3s infinite ease-in-out;
}
@keyframes write-signature {
  from {
    stroke-dashoffset: 100;
  }
  to {
    stroke-dashoffset: 0;
  }
}

.loader-day-night {
  width: 120px;
  height: 120px;
  border: 2px solid #9ca3af;
  border-radius: 50%;
  position: relative;
  overflow: hidden;
}
.loader-day-night .sky {
  width: 100%;
  height: 100%;
  animation: sky-change 6s infinite linear;
}
.loader-day-night .sun-moon {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  position: absolute;
  top: 50%;
  left: 50%;
  transform-origin: 0 0;
  animation: sun-moon-cycle 6s infinite linear;
}
@keyframes sky-change {
  0%,
  100% {
    background: #7dd3fc;
  }
  50% {
    background: #1e293b;
  }
}
@keyframes sun-moon-cycle {
  from {
    transform: rotate(-90deg) translateX(50px) rotate(90deg);
    background: #facc15;
  }
  to {
    transform: rotate(270deg) translateX(50px) rotate(-270deg);
    background: #f1f5f9;
  }
}

.loader-landmark {
  width: 100px;
  height: 100px;
}
.loader-landmark path {
  fill: none;
  stroke: #374151;
  stroke-width: 2;
  stroke-dasharray: 500;
  animation: build-landmark 3s infinite ease-in-out;
}
@keyframes build-landmark {
  from {
    stroke-dashoffset: 500;
  }
  to {
    stroke-dashoffset: 0;
  }
}

.loader-polaroid {
  width: 90px;
  height: 110px;
  background: white;
  padding: 8px 8px 25px 8px;
  border-radius: 3px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  animation: shake-polaroid 3s infinite ease-in-out;
}
.loader-polaroid .photo {
  width: 100%;
  height: 100%;
  background: #a3bfb8;
  position: relative;
  overflow: hidden;
}
.loader-polaroid .photo::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #d1d5db;
  animation: develop-photo 3s infinite linear;
}
@keyframes develop-photo {
  from {
    transform: translateY(0%);
  }
  to {
    transform: translateY(100%);
  }
}
@keyframes shake-polaroid {
  0%,
  100% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(-3deg);
  }
  75% {
    transform: rotate(3deg);
  }
}

.loader-noodles {
  width: 80px;
  height: 50px;
  border: 4px solid #4a2c2a;
  border-bottom-left-radius: 40px;
  border-bottom-right-radius: 40px;
  position: relative;
}
.loader-noodles .steam {
  position: absolute;
  bottom: 100%;
  left: 50%;
  width: 4px;
  height: 20px;
  background: #e5e7eb;
  border-radius: 2px;
  transform-origin: bottom center;
  animation: steam-rise 2s infinite linear;
}
.loader-noodles .steam1 {
  animation-delay: 0s;
}
.loader-noodles .steam2 {
  left: 40%;
  animation-delay: 0.5s;
  transform: scale(0.8);
}
.loader-noodles .steam3 {
  left: 60%;
  animation-delay: 1s;
  transform: scale(0.9);
}
@keyframes steam-rise {
  0% {
    opacity: 0;
    transform: translateY(0) scaleY(0);
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translateY(-30px) scaleY(1);
  }
}

.loader-treasure-chest {
  width: 80px;
  height: 60px;
  position: relative;
}
.loader-treasure-chest .lid {
  width: 100%;
  height: 20px;
  background: #a16207;
  position: absolute;
  top: 0;
  border-radius: 5px 5px 0 0;
  transform-origin: bottom center;
  animation: open-chest 2s infinite ease-in-out;
}
.loader-treasure-chest .base {
  width: 100%;
  height: 40px;
  background: #854d0e;
  position: absolute;
  bottom: 0;
  border-radius: 0 0 5px 5px;
}
.loader-treasure-chest .glow {
  width: 30px;
  height: 30px;
  background: radial-gradient(circle, white, transparent);
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  border-radius: 50%;
  animation: chest-glow 2s infinite ease-in-out;
}
@keyframes open-chest {
  0%,
  100% {
    transform: rotateX(0deg);
  }
  50% {
    transform: rotateX(-120deg);
  }
}
@keyframes chest-glow {
  0%,
  40%,
  100% {
    opacity: 0;
  }
  60%,
  90% {
    opacity: 0.8;
  }
}

.loader-message-bottle {
  width: 100px;
  height: 100px;
  position: relative;
}
.loader-message-bottle .bottle {
  width: 40px;
  height: 80px;
  border: 2px solid #a1a1aa;
  border-radius: 20px 20px 5px 5px;
  position: absolute;
  top: 10px;
  left: 30px;
  animation: bob-bottle 4s infinite ease-in-out;
}
.loader-message-bottle .wave {
  position: absolute;
  bottom: 0;
  left: -50%;
  width: 200%;
  height: 80px;
  background: #60a5fa;
  opacity: 0.5;
  border-radius: 45%;
  animation: move-wave 4s infinite ease-in-out;
}
.loader-message-bottle .wave2 {
  animation-direction: reverse;
}
@keyframes bob-bottle {
  0%,
  100% {
    transform: rotate(0deg) translateY(0);
  }
  50% {
    transform: rotate(5deg) translateY(-5px);
  }
}
@keyframes move-wave {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-50%);
  }
}
